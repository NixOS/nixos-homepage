---
import { Icon } from 'astro-icon/components';
import { getEntry } from 'astro:content';
import Container from '../components/layout/Container.astro';
import InlineSVG from '../components/util/InlineSVG.astro';
const footerMenu = await getEntry('menus', 'footer');
---

<footer>
  <div class="clear-both bg-nix-blue-darker font-light text-white">
    <Container>
      <div class="flex flex-col flex-wrap gap-y-8 py-8 sm:flex-row">
        {
          footerMenu.data.sections.map((menu) => (
            <div class="basis-1/2 lg:basis-1/4">
              <h4 class="mb-4 font-heading text-xl font-bold text-nix-blue">
                {menu.name}
              </h4>
              <ul class="space-y-2 font-extralight">
                {menu.items.map((item) => (
                  <li>
                    <a href={item.link}>{item.name}</a>
                  </li>
                ))}
              </ul>
            </div>
          ))
        }
      </div>
      <hr class="border-nix-blue-light" />
      <div
        class="flex flex-col flex-wrap gap-8 py-8 font-extralight lg:flex-row lg:gap-0"
      >
        <div class="flex basis-1/2 flex-row gap-2">
          <InlineSVG
            src="/src/assets/image/flake-white.svg"
            class="inline-block h-16 w-16"
          />
          <div class="flex flex-col justify-center">
            <div>
              Copyright Â© {new Date().getFullYear()} NixOS contributors
            </div>
            <a
              href="https://github.com/NixOS/nixos-homepage/blob/master/LICENSES/CC-BY-SA-4.0.txt"
            >
              <abbr
                title="Creative Commons Attribution Share Alike 4.0 International"
              >
                CC-BY-SA-4.0
              </abbr>
            </a>
          </div>
        </div>
        <hr class="border-nix-blue-light lg:hidden" />
        <div
          class="flex basis-1/2 flex-row justify-between gap-4 font-extralight lg:justify-end"
        >
          <h4 class="my-auto">Connect with us:</h4>
          <div class="my-auto flex flex-row gap-3">
            {
              footerMenu.data.social.map((item) => (
                <a
                  href={item.link}
                  aria-label={`Connect with us on ${item.name}`}
                >
                  <Icon
                    alt={item.name}
                    class="h-7 w-7"
                    name={`simple-icons:${item.name.toLowerCase()}`}
                  />
                </a>
              ))
            }
          </div>
        </div>
      </div>
    </Container>
  </div>
</footer>
